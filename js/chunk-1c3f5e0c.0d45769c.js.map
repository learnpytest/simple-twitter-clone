{"version":3,"sources":["webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/views/PrivateRoom.vue?5589","webpack:///./src/sockets/socketEventTypes.js","webpack:///./src/sockets/messagesSocket.js","webpack:///./src/modules/user/PrivateChatRoom.vue?96c3","webpack:///src/modules/user/PrivateChatRoom.vue","webpack:///./src/modules/user/PrivateChatRoom.vue?e1e6","webpack:///./src/modules/user/PrivateChatRoom.vue?6d41","webpack:///src/views/PrivateRoom.vue","webpack:///./src/views/PrivateRoom.vue?7212","webpack:///./src/views/PrivateRoom.vue?ee60","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/components/Loaders/Spinner.vue?a541","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./src/assets/images/send_button.png","webpack:///./src/modules/user/PrivateChatRoom.vue?a3c6","webpack:///./src/views/PrivateRoom.vue?40d9","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/components/Loaders/Spinner.vue?9fee","webpack:///src/components/Loaders/Spinner.vue","webpack:///./src/components/Loaders/Spinner.vue?4b17","webpack:///./src/components/Loaders/Spinner.vue?12ef"],"names":["uncurryThis","module","exports","valueOf","$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","showModal","on","modalToggle","_e","_m","class","_l","item","key","hasUnreadStyle","hasUnread","roomId","name","query","to","String","userId","currentUser","id","receiverUserId","room","_f","avatar","receiverUserAvatar","_v","_s","receiverUserName","account","receiverUserAccount","createdAt","message","afterReadPrivateMessages","thisRoomUnread","staticRenderFns","displayOneRoomMessages","displayLatestPrivateRoomMessages","emitDisplayOneRoomMessages","otherUser","socket","emit","emitDisplayLatestPrivateRoomMessages","$route","getOneRoomMessages","index","messages","length","directives","rawName","value","expression","temp","domProps","$event","type","indexOf","_k","keyCode","sendMessage","apply","arguments","composing","$set","stopPropagation","preventDefault","components","mixins","sockets","displayNotificationForEmptyData","$store","dispatch","users","data","appendRoomMessage","oneNewMessage","typing","stopTyping","props","Number","ready","userName","thisRoom","isLoading","methods","e","focus","oneNewRoomMessage","errorHandler","computed","watch","handler","deep","fetchCurrentUser","fetchOtherUser","component","mixin","Sidebar","NewTweetModal","PrivateChatRoom","Spinner","theLatestRoomMessagesArr","displayNotification","displayAllUnreadPrivateMessages","myAllUnreadPrivateMessages","privateMessagesThisRoomAddOne","map","showReplyModal","mounted","thisEl","scrollTop","clientHeight","addEventListener","scrollHeight","found","unread","getThisRoomUnread","makeThisRoomUnreadZeroOnView","currentUserId","substractNumber","replyModalToggle","replyTweetId","tweetId","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","callbackfn","undefined","DESCRIPTORS","global","isForced","redefine","hasOwn","inheritIfRequired","isPrototypeOf","isSymbol","toPrimitive","fails","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","thisNumberValue","NUMBER","NativeNumber","NumberPrototype","prototype","TypeError","arraySlice","slice","charCodeAt","toNumeric","primValue","toNumber","argument","first","third","radix","maxCode","digits","code","it","NaN","parseInt","NumberWrapper","n","dummy","Object","keys","split","j","constructor","PROPER_FUNCTION_NAME","PROPER","whitespaces","non","METHOD_NAME"],"mappings":"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","file":"js/chunk-1c3f5e0c.0d45769c.js","sourcesContent":["var uncurryThis = require('../internals/function-uncurry-this');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = uncurryThis(1.0.valueOf);\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[(_vm.showModal)?_c('div',{staticClass:\"new-tweet-modal\"},[_c('NewTweetModal',{attrs:{\"initialShowModal\":_vm.showModal},on:{\"show-modal\":_vm.modalToggle}})],1):_vm._e(),_c('div',{staticClass:\"public-chat-modal\"}),_c('div',{staticClass:\"public-chat\"},[_c('div',{staticClass:\"sidebar\"},[_c('Sidebar',{attrs:{\"initialShowModal\":_vm.showModal},on:{\"show-modal\":_vm.modalToggle}})],1),_c('div',{staticClass:\"online-users\"},[_vm._m(0),(_vm.isLoading)?_c('Spinner'):_c('div',{class:['active-users']},_vm._l((_vm.onlyLatestMessageOfEachRoom),function(item,key){return _c('div',{key:key,class:[\n            'active-user',\n            { hasUnreadStyle: _vm.hasUnread(item && item.roomId) } ]},[(item)?_c('router-link',{class:['reply-box'],attrs:{\"to\":{\n              name: 'private-room',\n              query: {\n                to:\n                  String(item.userId) !== String(_vm.currentUser.id)\n                    ? item.userId\n                    : item.receiverUserId,\n                room:\n                  item.userId < item.receiverUserId\n                    ? (\"\" + (item.userId) + (item.receiverUserId))\n                    : (\"\" + (item.receiverUserId) + (item.userId)),\n              },\n            }}},[_c('div',{staticClass:\"reply-text-info bottom-align\"},[_c('div',{staticClass:\"user-info\"},[_c('img',{staticClass:\"user-pic\",attrs:{\"src\":_vm._f(\"emptyImage\")(String(item.userId) !== String(_vm.currentUser.id)\n                      ? item.avatar\n                      : item.receiverUserAvatar),\"alt\":\"\"}})]),_c('div',{staticClass:\"reply-text-wrapper\"},[_c('div',{staticClass:\"user-name\"},[_c('div',[_c('p',[_vm._v(\" \"+_vm._s(String(item.userId) !== String(_vm.currentUser.id) ? item.name : item.receiverUserName)+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(String(item.userId) !== String(_vm.currentUser.id) ? item.account : item.receiverUserAccount)+\" \")])]),_c('span',{staticClass:\"reply-time\"},[_vm._v(\" \"+_vm._s(_vm._f(\"fromNow\")(item.createdAt))+\" \")])]),_c('div',{class:['reply-text']},[(String(item.userId) === String(_vm.currentUser.id))?_c('span',[_vm._v(\"您:\")]):_c('span',[_vm._v(_vm._s(item.name)+\":\")]),_vm._v(\" \"+_vm._s(item.message)+\" \")])])])]):_vm._e()],1)}),0)],1),_c('div',{staticClass:\"chat-room\",attrs:{\"id\":\"chatRoom\"},on:{\"click\":_vm.afterReadPrivateMessages}},[_c('PrivateChatRoom',{attrs:{\"thisRoomUnread\":_vm.thisRoomUnread}})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"header-info\"},[_c('p',[_vm._v(\"訊息\")])])])}]\n\nexport { render, staticRenderFns }","// emit\r\nexport const displayOneRoomMessages = \"displayOneRoomMessages\";\r\nexport const displayLatestPrivateRoomMessages =\r\n  \"displayLatestPrivateRoomMessages\";\r\nexport const socketAndUserjoinPrivateRoomGroup =\r\n  \"socketAndUserjoinPrivateRoomGroup\";\r\nexport const zeroCommunityNotificationUnread =\r\n  \"zeroCommunityNotificationUnread\";\r\n\r\nexport const oneNewCommunityFeedOfPrivateMessage =\r\n  \"oneNewCommunityFeedOfPrivateMessage\";\r\n\r\n// listen\r\nexport const displayOneAddUnreadNotification =\r\n  \"displayOneAddUnreadNotification\";","import socket from \"../main\";\r\n\r\nimport {\r\n  displayOneRoomMessages,\r\n  displayLatestPrivateRoomMessages,\r\n} from \"./socketEventTypes\";\r\n\r\nexport default {\r\n  // @params roomId:String, currentUser:Object, otherUser:Object\r\n  // @return socket event\r\n  async emitDisplayOneRoomMessages(roomId, currentUser, otherUser) {\r\n    await socket.emit(displayOneRoomMessages, {\r\n      roomId,\r\n      currentUser,\r\n      otherUser,\r\n    });\r\n  },\r\n  async emitDisplayLatestPrivateRoomMessages(currentUser) {\r\n    await socket.emit(displayLatestPrivateRoomMessages, currentUser);\r\n  },\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isLoading)?_c('Spinner'):_c('div',{staticClass:\"chat-room-wrapper\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"header-info\"},[(_vm.otherUser.name)?_c('p',[_vm._v(\" \"+_vm._s(((_vm.otherUser.name) + \" @\" + (_vm.otherUser.account)))+\" \")]):_c('p',[_vm._v(\" \"+_vm._s(\"請選取聊天對象\")+\" \")])])]),(_vm.$route.query.room && _vm.otherUser.name)?_c('div',{attrs:{\"id\":\"chat-wrapper\"}},[_vm._l((_vm.getOneRoomMessages.messages),function(item,index){return _c('div',{key:index,staticClass:\"chat-wrapper\"},[(index === _vm.getOneRoomMessages.messages.length - _vm.thisRoomUnread)?_c('div',{staticClass:\"online-box center\"},[_c('span',{staticClass:\"online-text\"},[_vm._v(\"以下為未讀訊息\")])]):_vm._e(),(item.account !== _vm.currentUser.account)?_c('div',{staticClass:\"reply-box\"},[_c('div',{staticClass:\"reply-text-info bottom-align\"},[_c('div',{staticClass:\"user-info\"},[_c('img',{staticClass:\"user-pic\",attrs:{\"src\":_vm._f(\"emptyImage\")(item.avatar),\"alt\":\"\"}}),_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(item.name))])]),_c('div',{staticClass:\"reply-text-time\"},[_c('div',{staticClass:\"reply-text\"},[_vm._v(\" \"+_vm._s(item.message)+\" \")])])]),_c('p',{staticClass:\"reply-time\"},[_vm._v(_vm._s(_vm._f(\"fromNow\")(item.createdAt)))])]):_vm._e(),(item.account === _vm.currentUser.account)?_c('div',{staticClass:\"sent-box right\"},[_c('div',{staticClass:\"sent-text\"},[_vm._v(_vm._s(item.message))]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.isLoading),expression:\"item.isLoading\"}],staticClass:\"online-text\"},[_vm._v(\"訊息未傳送...\")]),_c('p',{staticClass:\"sent-time\"},[_vm._v(_vm._s(_vm._f(\"fromNow\")(item.createdAt)))])]):_vm._e()])}),_c('div',{staticClass:\"chat-wrapper\"},[_c('div',{staticClass:\"online-box center\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.typing),expression:\"typing\"}],staticClass:\"online-text\"},[_vm._v(\"正在輸入訊息...\")])])])],2):_vm._e(),_c('div',{staticClass:\"chat-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.temp.message),expression:\"temp.message\"}],attrs:{\"type\":\"text\",\"id\":\"sendtxt\",\"placeholder\":\"輸入訊息...\"},domProps:{\"value\":(_vm.temp.message)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendMessage.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.temp, \"message\", $event.target.value)}}}),_c('button',{staticClass:\"sendBtn\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.sendMessage.apply(null, arguments)}}},[_c('img',{attrs:{\"src\":require(\"./../../assets/images/send_button.png\")}})])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Spinner v-if=\"isLoading\" />\r\n    <div class=\"chat-room-wrapper\" v-else>\r\n      <div class=\"header\">\r\n        <div class=\"header-info\">\r\n          <p v-if=\"otherUser.name\">\r\n            {{ `${otherUser.name} @${otherUser.account}` }}\r\n          </p>\r\n          <p v-else>\r\n            {{ \"請選取聊天對象\" }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div id=\"chat-wrapper\" v-if=\"$route.query.room && otherUser.name\">\r\n        <div\r\n          class=\"chat-wrapper\"\r\n          v-for=\"(item, index) in getOneRoomMessages.messages\"\r\n          :key=\"index\"\r\n        >\r\n          <div\r\n            class=\"online-box center\"\r\n            v-if=\"index === getOneRoomMessages.messages.length - thisRoomUnread\"\r\n          >\r\n            <span class=\"online-text\">以下為未讀訊息</span>\r\n          </div>\r\n          <div class=\"reply-box\" v-if=\"item.account !== currentUser.account\">\r\n            <div class=\"reply-text-info bottom-align\">\r\n              <div class=\"user-info\">\r\n                <img class=\"user-pic\" :src=\"item.avatar | emptyImage\" alt=\"\" />\r\n                <div class=\"user-name\">{{ item.name }}</div>\r\n              </div>\r\n              <div class=\"reply-text-time\">\r\n                <div class=\"reply-text\">\r\n                  {{ item.message }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <p class=\"reply-time\">{{ item.createdAt | fromNow }}</p>\r\n          </div>\r\n\r\n          <div\r\n            v-if=\"item.account === currentUser.account\"\r\n            class=\"sent-box right\"\r\n          >\r\n            <div class=\"sent-text\">{{ item.message }}</div>\r\n\r\n            <span v-show=\"item.isLoading\" class=\"online-text\"\r\n              >訊息未傳送...</span\r\n            >\r\n            <p class=\"sent-time\">{{ item.createdAt | fromNow }}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"chat-wrapper\">\r\n          <div class=\"online-box center\">\r\n            <span class=\"online-text\" v-show=\"typing\">正在輸入訊息...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"chat-field\">\r\n        <input\r\n          type=\"text\"\r\n          id=\"sendtxt\"\r\n          placeholder=\"輸入訊息...\"\r\n          v-model=\"temp.message\"\r\n          @keyup.enter=\"sendMessage\"\r\n        />\r\n        <button class=\"sendBtn\" @click.stop.prevent=\"sendMessage\">\r\n          <img src=\"./../../assets/images/send_button.png\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport socket from \"../../main\";\r\n\r\nimport Spinner from \"@/components/Loaders/Spinner.vue\";\r\n\r\nimport { mapGetters } from \"vuex\";\r\nimport currentUserAPI from \"@/apis/currentUserAPI\";\r\nimport usersAPI from \"@/apis/usersAPI\";\r\n\r\nimport errorHandler from \"../../utils/errorHandler\";\r\n\r\nimport {\r\n  mixinEmptyImage,\r\n  mixinFormatMessage,\r\n  mixinFromNowFilters,\r\n  mixinFormatGroupMessage,\r\n  mixinHandleCommunityNotification,\r\n  mixinHandleUnreadNotification,\r\n} from \"@/utils/mixin.js\";\r\n\r\nexport default {\r\n  name: \"ChatRooom\",\r\n  components: { Spinner },\r\n  mixins: [\r\n    mixinEmptyImage,\r\n    mixinFormatMessage,\r\n    mixinFromNowFilters,\r\n    mixinFormatGroupMessage,\r\n    mixinHandleCommunityNotification,\r\n    mixinHandleUnreadNotification,\r\n  ],\r\n  sockets: {\r\n    displayNotificationForEmptyData() {\r\n      return this.$store.dispatch(\"ADD_NOTIFICATION\", {\r\n        type: \"info\",\r\n        message: \"還沒有任何對話訊息\",\r\n      });\r\n    },\r\n    users: function (data) {\r\n      this.users = data;\r\n    },\r\n    displayOneRoomMessages({ roomId, messages }) {\r\n      this.$store.dispatch(\"setOneRoomMessages\", { roomId, messages });\r\n    },\r\n    appendRoomMessage({ roomId, oneNewMessage }) {\r\n      // 增加一個訊息在訊息框\r\n      this.appendRoomMessage(roomId, oneNewMessage);\r\n\r\n      // 增加一個對方傳來的 the Latest Private Room Messages 訊息在最新訊息欄位\r\n      this.$store.dispatch(\r\n        \"setOneNewMsgToLatestMessageOfEachRoom\",\r\n        oneNewMessage\r\n      );\r\n    },\r\n    typing: function () {\r\n      this.typing = true;\r\n    },\r\n    stopTyping: function () {\r\n      this.typing = false;\r\n    },\r\n  },\r\n  props: {\r\n    thisRoomUnread: {\r\n      type: Number,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      ready: false,\r\n      typing: false,\r\n      userName: [],\r\n      room: \"\",\r\n      temp: {\r\n        message: \"\",\r\n      },\r\n      currentUser: {},\r\n      otherUser: {},\r\n      thisRoom: {\r\n        users: [],\r\n        messages: [],\r\n      },\r\n      isLoading: true,\r\n    };\r\n  },\r\n  async created() {\r\n    try {\r\n      await this.fetchCurrentUser();\r\n      await this.fetchOtherUser();\r\n      const { room } = this.$route.query;\r\n      this.room = room || \"\";\r\n    } catch (err) {\r\n      errorHandler.generalErrorHandler(\"無法取得資料，請稍後再試\")(this);\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    sendMessage(e) {\r\n      // emit事件給server\r\n      e.target.focus();\r\n      if (!this.temp.message.trim().length) return;\r\n      const senderText = this.temp.message;\r\n\r\n      try {\r\n        const oneNewRoomMessage = this.formatGroupMessage(\r\n          this.temp.message,\r\n          0,\r\n          this.$route.query.room,\r\n          this.currentUser,\r\n          this.otherUser\r\n        );\r\n\r\n        // this just append room messages on frontend instead of modifying database so that user can see update once it's sent\r\n        oneNewRoomMessage.isLoading = true;\r\n        this.appendRoomMessage(this.$route.query.room, oneNewRoomMessage);\r\n        socket.emit(\"roomMessage\", oneNewRoomMessage, (data) => {\r\n          if (data === \"success\") {\r\n            // 給對方新的通知增加一個，不通知訂閱人\r\n            this.socketSendCommunityOneNotification(\r\n              \"7\",\r\n              this.currentUser,\r\n              this.otherUser,\r\n              senderText\r\n            );\r\n\r\n            // // 未讀數目\r\n            this.socketAfterPrivateMessageSend(\r\n              this.otherUser.UserId,\r\n              \"2\",\r\n              1,\r\n              this.currentUser.id,\r\n              this.$route.query.room\r\n            );\r\n\r\n            // 修改這裡，在回傳appendMessage以後再增加在畫面上\r\n            // 增加一個 the Latest Private Room Messages 在前端的畫面上\r\n            this.$store.dispatch(\r\n              \"setOneNewMsgToLatestMessageOfEachRoom\",\r\n              oneNewRoomMessage\r\n            );\r\n\r\n            oneNewRoomMessage.isLoading = false;\r\n          }\r\n        });\r\n      } catch (err) {\r\n        errorHandler.generalErrorHandler(\"無法取得資料，請稍後再試\")(this);\r\n      }\r\n\r\n      this.temp.message = \"\";\r\n    },\r\n    appendRoomMessage(roomId, oneNewMessage) {\r\n      this.$store.dispatch(\"appendRoomMessage\", { roomId, oneNewMessage });\r\n    },\r\n    async fetchOtherUser() {\r\n      try {\r\n        this.isLoading = true;\r\n        const { to } = this.$route.query;\r\n        const res = await usersAPI.getUser(+to);\r\n        const { data, statusText } = res;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n        this.otherUser = { ...data };\r\n        this.isLoading = false;\r\n      } catch (err) {\r\n        this.isLoading = false;\r\n\r\n        errorHandler.generalErrorHandler(\"無法取得資料，請稍後再試\")(this);\r\n      }\r\n    },\r\n    async fetchCurrentUser() {\r\n      try {\r\n        this.isLoading = true;\r\n        const res = await currentUserAPI.getCurrentUser();\r\n        const { data, statusText } = res;\r\n\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n        this.currentUser = { ...data };\r\n        this.isLoading = false;\r\n      } catch (err) {\r\n        this.isLoading = false;\r\n        errorHandler.generalErrorHandler(\"無法取得資料，請稍後再試\")(this);\r\n      }\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters({\r\n      getOneRoomMessages: \"getOneRoomMessages\",\r\n    }),\r\n  },\r\n\r\n  watch: {\r\n    temp: {\r\n      handler(value) {\r\n        value.message ? socket.emit(\"typing\") : socket.emit(\"stopTyping\");\r\n      },\r\n      deep: true,\r\n    },\r\n    $route() {\r\n      this.fetchCurrentUser();\r\n      this.fetchOtherUser();\r\n\r\n      const { room } = this.$route.query;\r\n      this.room = room;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"./src/assets/scss/main.scss\";\r\n#chat-wrapper {\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  justify-content: end;\r\n}\r\n\r\n.bottom-align {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: end;\r\n}\r\n\r\n.reply-box {\r\n  margin: 10px 0;\r\n}\r\n\r\n.reply-text {\r\n  background-color: $gray-75;\r\n  padding: 12px 15px;\r\n  border-radius: 30px 30px 30px 0px;\r\n}\r\n\r\n.reply-time {\r\n  text-align: left;\r\n  margin-left: 50px;\r\n  font-size: 13px;\r\n  color: $gray-600;\r\n}\r\n\r\n.online-text {\r\n  background-color: $gray-100;\r\n  color: $gray-600;\r\n  padding: 7px 10px;\r\n  border-radius: 100px;\r\n}\r\n\r\n.sent-time {\r\n  font-size: 13px;\r\n  color: $gray-600;\r\n}\r\n\r\n.sent-box {\r\n  margin: 10px 0;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: end;\r\n}\r\n.sent-text {\r\n  background-color: $orange-100;\r\n  padding: 13px 10px;\r\n  color: $white;\r\n  border-radius: 30px 30px 0px 30px;\r\n}\r\n\r\n.center {\r\n  text-align: center;\r\n  margin: 10px 0;\r\n}\r\n\r\n.chat-wrapper {\r\n  padding: 15px;\r\n}\r\n\r\n.chat-room-wrapper {\r\n  // height: 100%;\r\n  display: flex;\r\n  flex-flow: column;\r\n  justify-content: space-around;\r\n}\r\n\r\n.chat-field {\r\n  border-top: 1px solid $gray-75;\r\n  background-color: $white;\r\n  padding: 11px 20px;\r\n  position: sticky;\r\n  position: -webkit-fixed;\r\n  bottom: 0;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  height: 60px;\r\n  input {\r\n    border: 1px solid $gray-75;\r\n    border-radius: 100px;\r\n    padding: 0 15px;\r\n    background-color: $gray-100;\r\n  }\r\n  button {\r\n    width: 5%;\r\n  }\r\n  img {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin: 0 auto;\r\n  }\r\n  #sendtxt {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 60px;\r\n  border-bottom: 1px solid $gray-75;\r\n  padding-left: 15px;\r\n  font-weight: var(--fw-bolder);\r\n  width: 100%;\r\n  background-color: $white;\r\n  position: sticky;\r\n  top: 0;\r\n  .header-info {\r\n    :nth-child(2) {\r\n      font-size: 13px;\r\n      color: $gray-600;\r\n      font-weight: var(--fw-normal);\r\n    }\r\n  }\r\n\r\n  img {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin-right: 40px;\r\n  }\r\n  img:hover {\r\n    cursor: pointer;\r\n  }\r\n}\r\n\r\n.user-info {\r\n  width: 40px;\r\n  height: 40px;\r\n  margin-right: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  img {\r\n    width: 30px;\r\n    height: 30px;\r\n    border-radius: 50%;\r\n    flex-shrink: 0;\r\n  }\r\n  .user-name {\r\n    font-size: 10px;\r\n    color: #657786;\r\n  }\r\n}\r\n\r\n// .user-pic {\r\n//   width: 40px;\r\n//   height: 40px;\r\n//   border-radius: 50%;\r\n//   margin-right: 10px;\r\n// }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateChatRoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateChatRoom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrivateChatRoom.vue?vue&type=template&id=327112ad&scoped=true&\"\nimport script from \"./PrivateChatRoom.vue?vue&type=script&lang=js&\"\nexport * from \"./PrivateChatRoom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrivateChatRoom.vue?vue&type=style&index=0&id=327112ad&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"327112ad\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container\">\r\n    <div class=\"new-tweet-modal\" v-if=\"showModal\">\r\n      <NewTweetModal :initialShowModal=\"showModal\" @show-modal=\"modalToggle\" />\r\n    </div>\r\n\r\n    <div class=\"public-chat-modal\"></div>\r\n    <div class=\"public-chat\">\r\n      <div class=\"sidebar\">\r\n        <Sidebar :initialShowModal=\"showModal\" @show-modal=\"modalToggle\" />\r\n      </div>\r\n      <div class=\"online-users\">\r\n        <div class=\"header\">\r\n          <div class=\"header-info\">\r\n            <p>訊息</p>\r\n          </div>\r\n        </div>\r\n        <Spinner v-if=\"isLoading\" />\r\n        <div :class=\"['active-users']\" v-else>\r\n          <div\r\n            :class=\"[\r\n              'active-user',\r\n              { hasUnreadStyle: hasUnread(item && item.roomId) },\r\n            ]\"\r\n            v-for=\"(item, key) in onlyLatestMessageOfEachRoom\"\r\n            :key=\"key\"\r\n          >\r\n            <router-link\r\n              v-if=\"item\"\r\n              :class=\"['reply-box']\"\r\n              :to=\"{\r\n                name: 'private-room',\r\n                query: {\r\n                  to:\r\n                    String(item.userId) !== String(currentUser.id)\r\n                      ? item.userId\r\n                      : item.receiverUserId,\r\n                  room:\r\n                    item.userId < item.receiverUserId\r\n                      ? `${item.userId}${item.receiverUserId}`\r\n                      : `${item.receiverUserId}${item.userId}`,\r\n                },\r\n              }\"\r\n            >\r\n              <div class=\"reply-text-info bottom-align\">\r\n                <div class=\"user-info\">\r\n                  <img\r\n                    class=\"user-pic\"\r\n                    :src=\"\r\n                      String(item.userId) !== String(currentUser.id)\r\n                        ? item.avatar\r\n                        : item.receiverUserAvatar | emptyImage\r\n                    \"\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n                <div class=\"reply-text-wrapper\">\r\n                  <div class=\"user-name\">\r\n                    <div>\r\n                      <p>\r\n                        {{\r\n                          String(item.userId) !== String(currentUser.id)\r\n                            ? item.name\r\n                            : item.receiverUserName\r\n                        }}\r\n                      </p>\r\n                      <p>\r\n                        {{\r\n                          String(item.userId) !== String(currentUser.id)\r\n                            ? item.account\r\n                            : item.receiverUserAccount\r\n                        }}\r\n                      </p>\r\n                    </div>\r\n\r\n                    <span class=\"reply-time\">\r\n                      {{ item.createdAt | fromNow }}\r\n                    </span>\r\n                  </div>\r\n                  <div :class=\"['reply-text']\">\r\n                    <span v-if=\"String(item.userId) === String(currentUser.id)\"\r\n                      >您:</span\r\n                    >\r\n\r\n                    <span v-else>{{ item.name }}:</span>\r\n\r\n                    {{ item.message }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- <div\r\n        class=\"chat-room\"\r\n        id=\"chatRoom\"\r\n        v-chat-scroll=\"{\r\n          always: false,\r\n          smooth: true,\r\n          scrollonremoved: true,\r\n          smoothonremoved: false,\r\n          notSmoothOnInit: true,\r\n        }\"\r\n      >\r\n        <PrivateChatRoom :thisRoomUnread=\"thisRoomUnread\" />\r\n      </div> -->\r\n      <div class=\"chat-room\" id=\"chatRoom\" @click=\"afterReadPrivateMessages\">\r\n        <PrivateChatRoom :thisRoomUnread=\"thisRoomUnread\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport socket from \"../main\";\r\nimport messagesSocket from \"../sockets/messagesSocket\";\r\n\r\nimport currentUserAPI from \"@/apis/currentUserAPI\";\r\nimport usersAPI from \"../apis/usersAPI\";\r\n\r\nimport Spinner from \"@/components/Loaders/Spinner.vue\";\r\nimport Sidebar from \"../modules/user/Sidebar.vue\";\r\nimport NewTweetModal from \"../modules/user/NewTweetModal.vue\";\r\nimport PrivateChatRoom from \"../modules/user/PrivateChatRoom.vue\";\r\n\r\nimport { mapGetters } from \"vuex\";\r\n\r\nimport { mixinEmptyImage, mixinFromNowFilters } from \"@/utils/mixin\";\r\n\r\nimport errorHandler from \"../utils/errorHandler\";\r\n\r\nexport default {\r\n  name: \"PrivateRoom\",\r\n  mixins: [mixinEmptyImage, mixinFromNowFilters],\r\n  components: {\r\n    Sidebar,\r\n    NewTweetModal,\r\n    PrivateChatRoom,\r\n    Spinner,\r\n  },\r\n\r\n  sockets: {\r\n    displayLatestPrivateRoomMessages(theLatestRoomMessagesArr) {\r\n      if (!theLatestRoomMessagesArr.length)\r\n        return this.$store.dispatch(\"ADD_NOTIFICATION\", {\r\n          type: \"info\",\r\n          message: \"還沒有任何對話訊息\",\r\n        });\r\n\r\n      this.$store.dispatch(\r\n        \"setOnlyLatestMessageOfEachRoom\",\r\n        theLatestRoomMessagesArr\r\n      );\r\n    },\r\n\r\n    displayNotification(data) {\r\n      this.$store.dispatch(\"SET_PRIVATE_CHAT_NOTIFICATION\", data);\r\n    },\r\n    displayAllUnreadPrivateMessages(myAllUnreadPrivateMessages) {\r\n      this.myAllUnreadPrivateMessages = myAllUnreadPrivateMessages;\r\n    },\r\n\r\n    privateMessagesThisRoomAddOne(roomId) {\r\n      this.myAllUnreadPrivateMessages = this.myAllUnreadPrivateMessages.map(\r\n        (msg) =>\r\n          msg.roomId === roomId ? { ...msg, unread: msg.unread + 1 } : msg\r\n      );\r\n      this.thisRoomUnread += 1;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      showModal: false,\r\n      showReplyModal: false,\r\n      currentUser: {},\r\n      otherUser: {},\r\n      myAllUnreadPrivateMessages: [],\r\n      thisRoomUnread: 0,\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    const thisEl = document.querySelector(\"#chatRoom\");\r\n    thisEl.scrollTop + thisEl.clientHeight + this.thisRoomUnread * 50;\r\n    thisEl.addEventListener(\"scroll\", () => {\r\n      thisEl.scrollTop + thisEl.clientHeight + 50 >= thisEl.scrollHeight;\r\n    });\r\n  },\r\n  async beforeRouteUpdate(to, from, next) {\r\n    try {\r\n      await this.fetchCurrentUser();\r\n      // 通知 socket server，增加一個新的使用者進入私人聊天室，不論是否指定聊天室的 id\r\n      await messagesSocket.emitDisplayLatestPrivateRoomMessages(\r\n        this.currentUser\r\n      );\r\n\r\n      // 進入元件、路由改變要取得所有未讀資料\r\n      await socket.emit(\"getAllUnreadPrivateMessages\", this.currentUser.id);\r\n\r\n      if (!to.query.room) {\r\n        this.$store.dispatch(\"CLEAR_ONE_ROOM_MESSAGES\");\r\n        return next();\r\n      }\r\n      // 通知 socket server，增加一個使用者進入私人聊天室，指定聊天室 id，確認這個聊天是是否已經建立，如果已經建立，並且已經有聊天訊息將歷史訊息，給前端資料顯示指定聊天室的訊息\r\n      await this.fetchOtherUser(to.query.to);\r\n\r\n      await messagesSocket.emitDisplayOneRoomMessages(\r\n        to.query.room,\r\n        this.currentUser,\r\n        this.otherUser\r\n      );\r\n      next();\r\n    } catch (err) {\r\n      errorHandler.generalErrorHandler(\"無法取得資料，請稍後再試\")(this);\r\n      next(err);\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      const { room, to } = this.$route.query;\r\n      await this.fetchCurrentUser();\r\n      // 通知 socket server，增加一個使用者進入私人聊天室，不論是否指定聊天室 id，給前端資料顯示最新一則訊息\r\n      await messagesSocket.emitDisplayLatestPrivateRoomMessages(\r\n        this.currentUser\r\n      );\r\n\r\n      // 進入元件、路由改變要取得所有未讀資料\r\n      await socket.emit(\"getAllUnreadPrivateMessages\", this.currentUser.id);\r\n\r\n      // 私人訊息標示已讀\r\n      if (!this.$route.query.room) {\r\n        this.$store.dispatch(\"CLEAR_ONE_ROOM_MESSAGES\");\r\n        return;\r\n      }\r\n\r\n      await this.fetchOtherUser(to);\r\n      // 通知 socket server，增加一個使用者進入私人聊天室，指定聊天室 id，確認這個聊天是是否已經建立，如果已經建立，並且已經有聊天訊息將歷史訊息，給前端資料顯示指定聊天室的訊息\r\n      await messagesSocket.emitDisplayOneRoomMessages(\r\n        room,\r\n        this.currentUser,\r\n        this.otherUser\r\n      );\r\n    } catch (err) {\r\n      this.isLoading = false;\r\n\r\n      errorHandler.generalErrorHandler(err)(this);\r\n    }\r\n  },\r\n  computed: {\r\n    hasUnread() {\r\n      return (roomId) => {\r\n        if (!this.myAllUnreadPrivateMessages.length) return false;\r\n        const found = this.myAllUnreadPrivateMessages\r\n          .filter((msg) => msg)\r\n          .find((msg) => msg.roomId === roomId);\r\n        return found && found.unread > 0;\r\n      };\r\n    },\r\n    ...mapGetters({\r\n      onlyLatestMessageOfEachRoom: \"getOnlyLatestMessageOfEachRoom\",\r\n    }),\r\n  },\r\n  watch: {\r\n    async $route() {\r\n      this.getThisRoomUnread(this.myAllUnreadPrivateMessages);\r\n    },\r\n    myAllUnreadPrivateMessages: {\r\n      handler(value) {\r\n        this.getThisRoomUnread(value);\r\n        const thisEl = document.querySelector(\"#chatRoom\");\r\n        if (!thisEl) return;\r\n        thisEl.scrollTop =\r\n          thisEl.scrollHeight - this.thisRoomUnread * 11.5 - 50;\r\n      },\r\n    },\r\n    deep: true,\r\n  },\r\n  methods: {\r\n    getThisRoomUnread(value) {\r\n      if (!value.length) return;\r\n      const found = value\r\n        .filter((msg) => msg)\r\n        .find((msg) => msg.roomId === this.$route.query.room);\r\n      if (found) {\r\n        this.thisRoomUnread = found.unread;\r\n      }\r\n    },\r\n    makeThisRoomUnreadZeroOnView() {\r\n      if (!this.myAllUnreadPrivateMessages.length) return;\r\n      this.myAllUnreadPrivateMessages = this.myAllUnreadPrivateMessages\r\n        .filter((msg) => msg)\r\n        .map((msg) =>\r\n          msg.roomId === this.$route.query.room ? { ...msg, unread: 0 } : msg\r\n        );\r\n    },\r\n    afterReadPrivateMessages() {\r\n      if (!this.$route.query.room) return;\r\n      // 通知資料庫\r\n      socket.emit(\"afterReadPrivateMessageOfThisRoom\", {\r\n        roomId: this.$route.query.room,\r\n        currentUserId: this.currentUser.id,\r\n        substractNumber: this.thisRoomUnread,\r\n        type: \"decrement\",\r\n      });\r\n\r\n      // 修改畫面\r\n      // Sidebar總數\r\n      this.$store.dispatch(\"SET_SUM_OF_UNREAD_PRIVATE_MESSAGES\", 0);\r\n      // 當前頁面\r\n      this.thisRoomUnread = 0;\r\n      this.makeThisRoomUnreadZeroOnView();\r\n    },\r\n    async fetchCurrentUser() {\r\n      try {\r\n        this.isLoading = true;\r\n        const res = await currentUserAPI.getCurrentUser();\r\n        const { data, statusText } = res;\r\n\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n        this.currentUser = { ...data };\r\n        this.isLoading = false;\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async fetchOtherUser(userId2) {\r\n      try {\r\n        this.isLoading = true;\r\n        const res = await usersAPI.getUser(userId2);\r\n        const { data, statusText } = res;\r\n\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n        this.otherUser = { ...data };\r\n        this.isLoading = false;\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n\r\n    modalToggle() {\r\n      if (!this.showModal) {\r\n        this.showModal = true;\r\n      } else {\r\n        this.showModal = false;\r\n      }\r\n    },\r\n\r\n    replyModalToggle(tweetId) {\r\n      if (!this.showReplyModal) {\r\n        this.replyTweetId = tweetId;\r\n        this.showReplyModal = true;\r\n      } else {\r\n        this.replyTweetId = \"\";\r\n        this.showReplyModal = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./src/assets/scss/main.scss\";\r\n.new-tweet-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: 1;\r\n  height: 100%;\r\n}\r\n.active-user {\r\n  display: flex;\r\n  padding: 15px 10px 15px 10px;\r\n  margin-bottom: 0.4rem;\r\n  font-size: 14px;\r\n  border-bottom: 1px solid $gray-75;\r\n  cursor: pointer;\r\n  word-break: break-all;\r\n  display: flex;\r\n  align-items: center;\r\n  img {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    margin-right: 10px;\r\n  }\r\n  .user-name {\r\n    font-weight: var(--fw-bold);\r\n    margin-right: 5px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  .user-id {\r\n    color: $gray-600;\r\n  }\r\n  &:hover {\r\n    cursor: pointer;\r\n    background-color: darken(#e6ecf0, 10%);\r\n  }\r\n}\r\n\r\n.public-chat {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: right;\r\n  height: 100%;\r\n}\r\n.container {\r\n  height: 100%;\r\n  overflow-y: hidden;\r\n}\r\n.sidebar {\r\n  width: 18%;\r\n  position: sticky;\r\n  position: -webkit-sticky;\r\n  top: 0;\r\n}\r\n.online-users {\r\n  width: 30%;\r\n  border-left: 1px solid $gray-75;\r\n  border-right: 1px solid $gray-75;\r\n  margin-left: 30px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.bottom-align {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: end;\r\n}\r\n\r\n.reply-box {\r\n  width: 100%;\r\n  margin: 10px 0;\r\n  color: $gray-900;\r\n}\r\n\r\n.reply-text-info {\r\n  align-items: start;\r\n}\r\n\r\n.reply-text {\r\n  // background-color: $gray-50;\r\n  padding: 0.5rem 0;\r\n  color: $gray-600;\r\n}\r\n\r\n.reply-text-wrapper {\r\n  width: 100%;\r\n}\r\n\r\n.reply-time {\r\n  text-align: left;\r\n  margin-left: 50px;\r\n  font-size: 13px;\r\n  color: $gray-600;\r\n}\r\n\r\n.chat-room {\r\n  width: 44.5%;\r\n  overflow-y: scroll;\r\n}\r\n.header {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 60px;\r\n  border-bottom: 1px solid $gray-75;\r\n  padding-left: 15px;\r\n  font-weight: var(--fw-bolder);\r\n  background-color: $white;\r\n  position: sticky;\r\n  top: 0;\r\n  .header-info {\r\n    :nth-child(2) {\r\n      font-size: 13px;\r\n      color: $gray-600;\r\n      font-weight: var(--fw-normal);\r\n    }\r\n  }\r\n\r\n  img {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin-right: 40px;\r\n  }\r\n  img:hover {\r\n    cursor: pointer;\r\n  }\r\n}\r\n.hasUnreadStyle {\r\n  background-color: var(--g-75);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateRoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateRoom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrivateRoom.vue?vue&type=template&id=6e11f2c5&scoped=true&\"\nimport script from \"./PrivateRoom.vue?vue&type=script&lang=js&\"\nexport * from \"./PrivateRoom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrivateRoom.vue?vue&type=style&index=0&id=6e11f2c5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e11f2c5\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=style&index=0&id=17e4c76d&scoped=true&lang=css&\"","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar hasOwn = require('../internals/has-own-property');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar isSymbol = require('../internals/is-symbol');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar thisNumberValue = require('../internals/this-number-value');\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\nvar TypeError = global.TypeError;\nvar arraySlice = uncurryThis(''.slice);\nvar charCodeAt = uncurryThis(''.charCodeAt);\n\n// `ToNumeric` abstract operation\n// https://tc39.es/ecma262/#sec-tonumeric\nvar toNumeric = function (value) {\n  var primValue = toPrimitive(value, 'number');\n  return typeof primValue == 'bigint' ? primValue : toNumber(primValue);\n};\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, 'number');\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (isSymbol(it)) throw TypeError('Cannot convert a Symbol value to a number');\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = charCodeAt(it, 0);\n    if (first === 43 || first === 45) {\n      third = charCodeAt(it, 2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (charCodeAt(it, 1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = arraySlice(it, 2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = charCodeAt(digits, index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var n = arguments.length < 1 ? 0 : NativeNumber(toNumeric(value));\n    var dummy = this;\n    // check on 1..constructor(foo) case\n    return isPrototypeOf(NumberPrototype, dummy) && fails(function () { thisNumberValue(dummy); })\n      ? inheritIfRequired(Object(n), dummy, NumberWrapper) : n;\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (hasOwn(NativeNumber, key = keys[j]) && !hasOwn(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","module.exports = \"data:image/png;base64,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\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateChatRoom.vue?vue&type=style&index=0&id=327112ad&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateRoom.vue?vue&type=style&index=0&id=6e11f2c5&lang=scss&scoped=true&\"","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spinner\"},[_c('div',{staticClass:\"bouncing-loader\"},[_c('div'),_c('div'),_c('div')])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"spinner\">\r\n    <div class=\"bouncing-loader\">\r\n      <div />\r\n      <div />\r\n      <div />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Spinner\",\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.spinner {\r\n  padding-top: 100px;\r\n}\r\n\r\n.bouncing-loader {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.bouncing-loader > div {\r\n  width: 1rem;\r\n  height: 1rem;\r\n  margin: 3rem 0.2rem;\r\n  background: #bd2333;\r\n  border-radius: 50%;\r\n  animation: bouncing-loader 0.6s infinite alternate;\r\n}\r\n\r\n.bouncing-loader > div:nth-child(2) {\r\n  animation-delay: 0.2s;\r\n}\r\n\r\n.bouncing-loader > div:nth-child(3) {\r\n  animation-delay: 0.4s;\r\n}\r\n\r\n@keyframes bouncing-loader {\r\n  from {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n  to {\r\n    opacity: 0.1;\r\n    transform: translateY(-1rem);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Spinner.vue?vue&type=template&id=17e4c76d&scoped=true&\"\nimport script from \"./Spinner.vue?vue&type=script&lang=js&\"\nexport * from \"./Spinner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Spinner.vue?vue&type=style&index=0&id=17e4c76d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17e4c76d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}