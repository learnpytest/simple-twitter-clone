{"version":3,"sources":["webpack:///./src/modules/user/Comments.vue?2d92","webpack:///./src/modules/user/Comments.vue?182d","webpack:///src/modules/user/Comments.vue","webpack:///./src/modules/user/Comments.vue?470f","webpack:///./src/modules/user/Comments.vue?613c","webpack:///./src/assets/images/icon_back.png","webpack:///./src/views/ReplyList.vue?5216","webpack:///./src/modules/user/TweetDetail.vue?5209","webpack:///src/modules/user/TweetDetail.vue","webpack:///./src/modules/user/TweetDetail.vue?de15","webpack:///./src/modules/user/TweetDetail.vue?8220","webpack:///src/views/ReplyList.vue","webpack:///./src/views/ReplyList.vue?3092","webpack:///./src/views/ReplyList.vue?0308","webpack:///./src/modules/user/TweetDetail.vue?429c","webpack:///./src/views/ReplyList.vue?be7d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","tweet","key","ReplyID","on","$event","stopPropagation","preventDefault","$router","push","name","params","id","User","apply","arguments","attrs","_f","avatar","_v","_s","account","createdAt","Tweet","parentTweet","comment","staticRenderFns","props","initialTweets","type","Array","required","Object","data","showReplyModal","tweets","watch","methods","fetchData","created","mixins","mixin","component","module","exports","showModal","modalToggle","_e","replyTweetId","replyModalToggle","initialTweetReplies","back","description","RepliesCount","LikesCount","handleShowModalClick","TweetId","unLike","addLike","initialTweet","require","tweetReplies","currentUser","fetchCurrentUser","$emit","tweetId","components","Popular","Sidebar","TweetDetail","NewTweetModal","ReplyTweetModal","Comments","fetchTweet","fetchTweetReplies"],"mappings":"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","file":"js/chunk-1881896c.5d2f49fa.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=style&index=0&id=0f2160b3&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-wrapper\"},_vm._l((_vm.tweets),function(tweet){return _c('div',{key:tweet.ReplyID,staticClass:\"comment\"},[_c('div',{staticClass:\"user-pic\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return (function () { return _vm.$router.push({ name: 'user', params: { id: tweet.User.id } }); }).apply(null, arguments)}}},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(tweet.User && tweet.User.avatar),\"alt\":\"\"}})]),_c('div',{staticClass:\"tweet-info\"},[_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"user-name\"},[_vm._v(\" \"+_vm._s(tweet.User && tweet.User.name)+\" \"),_c('span',{staticClass:\"user-id\"},[_vm._v(\"@\"+_vm._s(tweet.User && tweet.User.account)+\" • \")]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"fromNow\")(tweet && tweet.createdAt)))])])]),_c('p',{attrs:{\"Class\":\"reply-to\"}},[_vm._v(\" 回覆 \"),_c('span',[_vm._v(\"@ \"+_vm._s((tweet.Tweet && tweet.Tweet.User.account) || (_vm.parentTweet.User && _vm.parentTweet.User.name)))])]),_c('div',{staticClass:\"tweet-text\"},[_vm._v(\" \"+_vm._s(tweet && tweet.comment)+\" \")])])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-wrapper\">\r\n    <div class=\"comment\" v-for=\"tweet in tweets\" :key=\"tweet.ReplyID\">\r\n      <div\r\n        class=\"user-pic\"\r\n        @click.stop.prevent=\"\r\n          () => $router.push({ name: 'user', params: { id: tweet.User.id } })\r\n        \"\r\n      >\r\n        <!-- 沒有上傳照片產生空圖 -->\r\n        <img :src=\"tweet.User && tweet.User.avatar | emptyImage\" alt=\"\" />\r\n      </div>\r\n\r\n      <div class=\"tweet-info\">\r\n        <div class=\"info\">\r\n          <p class=\"user-name\">\r\n            {{ tweet.User && tweet.User.name }}\r\n            <span class=\"user-id\"\r\n              >@{{ tweet.User && tweet.User.account }} • </span\r\n            ><span class=\"time\">{{ tweet && tweet.createdAt | fromNow }}</span>\r\n          </p>\r\n        </div>\r\n        <p Class=\"reply-to\">\r\n          回覆\r\n\r\n          <span\r\n            >@\r\n            {{\r\n              (tweet.Tweet && tweet.Tweet.User.account) ||\r\n              (parentTweet.User && parentTweet.User.name)\r\n            }}</span\r\n          >\r\n        </p>\r\n        <div class=\"tweet-text\">\r\n          {{ tweet && tweet.comment }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mixinEmptyImage, mixinFromNowFilters } from \"../../utils/mixin\";\r\n\r\nexport default {\r\n  name: \"Comments\",\r\n  props: {\r\n    initialTweets: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    parentTweet: {\r\n      type: Object,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      showReplyModal: false,\r\n      tweets: [],\r\n    };\r\n  },\r\n  watch: {\r\n    initialTweets(newValue) {\r\n      this.tweets = [...this.tweets, ...newValue];\r\n    },\r\n  },\r\n  methods: {\r\n    fetchData() {\r\n      this.tweets = this.initialTweets;\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.fetchData();\r\n  },\r\n  mixins: [mixinEmptyImage, mixinFromNowFilters],\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"./../../assets/scss/main.scss\";\r\n@import \"./../../assets/scss/tweet.scss\";\r\n.comment-wrapper {\r\n  width: 100%;\r\n}\r\n\r\n.comment {\r\n  display: flex;\r\n  padding: 15px 10px 15px 10px;\r\n  font-size: 14px;\r\n  border-bottom: 1px solid $gray-75;\r\n  cursor: pointer;\r\n}\r\n\r\n.reply-to {\r\n  color: $gray-600;\r\n  padding-bottom: 5px;\r\n  span {\r\n    color: $orange-100;\r\n  }\r\n}\r\n.tweet-text {\r\n  word-break: break-all;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comments.vue?vue&type=template&id=0f2160b3&scoped=true&\"\nimport script from \"./Comments.vue?vue&type=script&lang=js&\"\nexport * from \"./Comments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comments.vue?vue&type=style&index=0&id=0f2160b3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f2160b3\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACTSURBVHgB7dZBCsJAEETRwhN4w9TN5wjxBppBF6IGlQnp7vAfFGQVqmdVEgAAOJZpybykPb5L6YWvT5lVyGv5nqYiPpXvsQqgfBTKR6F8FMpHWSu/V5oGN1WTQor/tKlO+u6seBcNsOJf3xrklZ9PKsTiiBwsjsjB4ogcLI7Iwfpjw2RlvS/Jcqx78U02DAAAyOwG2DPi+W+Y9VUAAAAASUVORK5CYII=\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[(_vm.showModal)?_c('div',{staticClass:\"new-tweet-modal\"},[_c('NewTweetModal',{attrs:{\"initialShowModal\":_vm.showModal},on:{\"show-modal\":_vm.modalToggle}})],1):_vm._e(),(_vm.showReplyModal)?_c('div',{staticClass:\"new-tweet-modal\"},[_c('ReplyTweetModal',{attrs:{\"initialShowReplyModal\":_vm.showReplyModal,\"initialTweetId\":_vm.replyTweetId},on:{\"show-reply-modal\":_vm.replyModalToggle}})],1):_vm._e(),_c('div',{staticClass:\"reply-modal\"}),_c('div',{staticClass:\"reply-list\"},[_c('div',{staticClass:\"sidebar\"},[_c('Sidebar',{attrs:{\"initialShowModal\":_vm.showModal},on:{\"show-modal\":_vm.modalToggle}})],1),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"tweet-detail\"},[_c('TweetDetail',{attrs:{\"initialTweet\":_vm.tweet},on:{\"show-reply-modal\":_vm.replyModalToggle}})],1),_c('div',{staticClass:\"tweets\"},[_c('Comments',{attrs:{\"initialTweets\":_vm.initialTweetReplies,\"parentTweet\":_vm.tweet}})],1)]),_c('div',{staticClass:\"popular\"},[_c('Popular')],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tweet-detail-wrapper\"},[_c('div',{staticClass:\"header\"},[_c('img',{attrs:{\"src\":require(\"./../../assets/images/icon_back.png\"),\"alt\":\"\"},on:{\"click\":function($event){return _vm.$router.back()}}}),_c('p',[_vm._v(\"推文\")])]),_c('div',{staticClass:\"tweet-detail-box\"},[_c('div',{staticClass:\"tweet-detail-box_user-info\"},[_c('img',{staticClass:\"user-pic\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.tweet.User && _vm.tweet.User.avatar),\"alt\":\"\"}}),_c('div',{staticClass:\"nameId\"},[_c('p',[_vm._v(_vm._s(_vm.tweet.User && _vm.tweet.User.name))]),_c('p',[_vm._v(\"@\"+_vm._s(_vm.tweet.User && _vm.tweet.User.account))])])]),_c('div',{staticClass:\"tweet-detail-box_text\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.tweet && _vm.tweet.description)+\" \")]),_c('p',{staticClass:\"tweet-detail-box_created-detail\"},[_vm._v(\"上午 10:05・2020年6月10日\")])]),_c('div',{staticClass:\"tweet-detail-box_numbers\"},[_c('p',[_vm._v(_vm._s(_vm.tweet && _vm.tweet.RepliesCount)),_c('span',[_vm._v(\"回覆\")])]),_c('p',[_vm._v(_vm._s(_vm.tweet && _vm.tweet.LikesCount)),_c('span',[_vm._v(\"喜歡次數\")])])]),_c('div',{staticClass:\"tweet-detail-box_btn-control\"},[_c('img',{staticClass:\"hoverStyle\",attrs:{\"src\":require(\"./../../assets/images/icon_reply.svg\"),\"alt\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleShowModalClick(_vm.tweet.TweetId)}}}),(_vm.tweet.isLiked)?_c('img',{staticClass:\"hoverStyle\",attrs:{\"id\":\"liked-btn\",\"src\":require(\"./../../assets/images/icon_like_fill.svg\"),\"alt\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.unLike(_vm.tweet.TweetId, _vm.tweet)}}}):_c('img',{staticClass:\"hoverStyle\",attrs:{\"src\":require(\"./../../assets/images/icon_like.svg\"),\"alt\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addLike(_vm.tweet.TweetId, _vm.tweet)}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"tweet-detail-wrapper\">\r\n    <div class=\"header\">\r\n      <img\r\n        src=\"./../../assets/images/icon_back.png\"\r\n        alt=\"\"\r\n        @click=\"$router.back()\"\r\n      />\r\n      <p>推文</p>\r\n    </div>\r\n    <div class=\"tweet-detail-box\">\r\n      <div class=\"tweet-detail-box_user-info\">\r\n        <img\r\n          class=\"user-pic\"\r\n          :src=\"tweet.User && tweet.User.avatar | emptyImage\"\r\n          alt=\"\"\r\n        />\r\n        <div class=\"nameId\">\r\n          <p>{{ tweet.User && tweet.User.name }}</p>\r\n          <p>@{{ tweet.User && tweet.User.account }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"tweet-detail-box_text\">\r\n        <p>\r\n          {{ tweet && tweet.description }}\r\n        </p>\r\n        <p class=\"tweet-detail-box_created-detail\">上午 10:05・2020年6月10日</p>\r\n      </div>\r\n      <div class=\"tweet-detail-box_numbers\">\r\n        <p>{{ tweet && tweet.RepliesCount }}<span>回覆</span></p>\r\n        <p>{{ tweet && tweet.LikesCount }}<span>喜歡次數</span></p>\r\n      </div>\r\n      <div class=\"tweet-detail-box_btn-control\">\r\n        <img\r\n          src=\"./../../assets/images/icon_reply.svg\"\r\n          alt=\"\"\r\n          @click.stop.prevent=\"handleShowModalClick(tweet.TweetId)\"\r\n          class=\"hoverStyle\"\r\n        />\r\n\r\n        <img\r\n          id=\"liked-btn\"\r\n          src=\"./../../assets/images/icon_like_fill.svg\"\r\n          alt=\"\"\r\n          @click.stop.prevent=\"unLike(tweet.TweetId, tweet)\"\r\n          v-if=\"tweet.isLiked\"\r\n          class=\"hoverStyle\"\r\n        />\r\n\r\n        <img\r\n          src=\"./../../assets/images/icon_like.svg\"\r\n          alt=\"\"\r\n          @click.stop.prevent=\"addLike(tweet.TweetId, tweet)\"\r\n          v-else\r\n          class=\"hoverStyle\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport currentUserAPi from \"../../apis/currentUserAPI\";\r\nimport likeshipAPI from \"./../../apis/likeshipAPI\";\r\n\r\nimport {\r\n  mixinEmptyImage,\r\n  mixinHandleCommunityNotification,\r\n} from \"../../utils/mixin\";\r\n\r\nexport default {\r\n  props: {\r\n    // initialShowReplyModal: {\r\n    //   type: Boolean,\r\n    //   //test need to set required on true\r\n    //   required: true,\r\n    // },\r\n    initialTweet: {\r\n      type: Object,\r\n      require: true,\r\n    },\r\n  },\r\n  mixins: [mixinEmptyImage, mixinHandleCommunityNotification],\r\n  data() {\r\n    return {\r\n      showReplyModal: false,\r\n      tweet: {},\r\n      tweetReplies: [],\r\n      currentUser: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchCurrentUser();\r\n  },\r\n  methods: {\r\n    async fetchCurrentUser() {\r\n      const res = await currentUserAPi.getCurrentUser();\r\n      const { data } = res;\r\n      this.currentUser = { ...data };\r\n    },\r\n    async addLike(tweetId, tweet) {\r\n      try {\r\n        const { data } = await likeshipAPI.postLike(tweetId);\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        this.tweet = {\r\n          ...this.tweet,\r\n          isLiked: true,\r\n          LikesCount: this.tweet.LikesCount + 1,\r\n        };\r\n\r\n        // 通知訂閱人，關於喜歡貼文的通知增加一個，type 1、未讀的數量也要增加一個\r\n        this.socketSendCommunityOneNotification(\r\n          \"1\",\r\n          this.currentUser,\r\n          null,\r\n          tweet.description,\r\n          tweet.TweetId\r\n        );\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    async unLike(tweetId, tweet) {\r\n      try {\r\n        const { data } = await likeshipAPI.deleteLike(tweetId);\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n        this.tweet = {\r\n          ...this.tweet,\r\n          isLiked: false,\r\n          LikesCount: this.tweet.LikesCount - 1,\r\n        };\r\n\r\n        // 通知訂閱人，收回喜歡一個，type 2\r\n        this.socketSendCommunityOneNotification(\r\n          \"2\",\r\n          this.currentUser,\r\n          null,\r\n          tweet.description,\r\n          tweet.TweetId\r\n        );\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    fetchData() {\r\n      // this.showReplyModal = this.initialShowReplyModal;\r\n      this.tweet = { ...this.initialTweet };\r\n    },\r\n    handleShowModalClick(tweetId) {\r\n      // this.showReplyModal = true;\r\n      this.$emit(\"show-reply-modal\", tweetId);\r\n    },\r\n  },\r\n  watch: {\r\n    initialTweet() {\r\n      this.fetchData();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./../../assets/scss/main.scss\";\r\n.user-pic {\r\n  border-radius: 50%;\r\n}\r\n.tweet-detail-wrapper {\r\n  border-bottom: 1px solid $gray-75;\r\n}\r\n.header {\r\n  font-weight: var(--fw-bold);\r\n  height: 50px;\r\n  line-height: 50px;\r\n  border-bottom: 1px solid $gray-75;\r\n  padding-left: 15px;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  img {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin-right: 40px;\r\n  }\r\n  img:hover {\r\n    cursor: pointer;\r\n  }\r\n}\r\n.tweet-detail-box {\r\n  padding: 10px;\r\n}\r\n.tweet-detail-box_user-info {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  margin: 10px 0;\r\n  font-weight: var(--fw-bold);\r\n  font-size: 15px;\r\n  align-items: center;\r\n\r\n  p:nth-child(2) {\r\n    color: $gray-600;\r\n    font-weight: var(--fw-normal);\r\n  }\r\n  img {\r\n    width: 50px;\r\n    height: 50px;\r\n    margin-right: 10px;\r\n  }\r\n}\r\n.tweet-detail-box_text {\r\n  width: 85%;\r\n  font-size: 19px;\r\n  line-height: 28px;\r\n  word-break: break-all;\r\n  .tweet-detail-box_created-detail {\r\n    font-size: 15px;\r\n    color: $gray-600;\r\n    margin: 7px 0;\r\n  }\r\n}\r\n.tweet-detail-box_numbers {\r\n  display: flex;\r\n  padding: 15px 0;\r\n  border-top: 1px solid $gray-75;\r\n  border-bottom: 1px solid $gray-75;\r\n  p {\r\n    margin-right: 30px;\r\n    font-size: 16px;\r\n    font-weight: var(--fw-bold);\r\n  }\r\n  p span {\r\n    font-weight: var(--fw-normal);\r\n    color: $gray-600;\r\n    margin-left: 5px;\r\n  }\r\n}\r\n\r\n.tweet-detail-box_btn-control {\r\n  display: flex;\r\n  padding: 15px 0 5px 0;\r\n  img {\r\n    width: 25px;\r\n    margin-right: 130px;\r\n  }\r\n}\r\n.hoverStyle {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetDetail.vue?vue&type=template&id=47ed7bd8&scoped=true&\"\nimport script from \"./TweetDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetDetail.vue?vue&type=style&index=0&id=47ed7bd8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47ed7bd8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container\">\r\n    <div class=\"new-tweet-modal\" v-if=\"showModal\">\r\n      <NewTweetModal :initialShowModal=\"showModal\" @show-modal=\"modalToggle\" />\r\n    </div>\r\n    <div class=\"new-tweet-modal\" v-if=\"showReplyModal\">\r\n      <ReplyTweetModal\r\n        :initialShowReplyModal=\"showReplyModal\"\r\n        :initialTweetId=\"replyTweetId\"\r\n        @show-reply-modal=\"replyModalToggle\"\r\n      />\r\n    </div>\r\n    <div class=\"reply-modal\"></div>\r\n    <div class=\"reply-list\">\r\n      <div class=\"sidebar\">\r\n        <Sidebar :initialShowModal=\"showModal\" @show-modal=\"modalToggle\" />\r\n      </div>\r\n      <div class=\"main\">\r\n        <div class=\"tweet-detail\">\r\n          <TweetDetail\r\n            :initialTweet=\"tweet\"\r\n            @show-reply-modal=\"replyModalToggle\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"tweets\">\r\n          <Comments :initialTweets=\"initialTweetReplies\" :parentTweet=\"tweet\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"popular\"><Popular /></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Popular from \"../modules/user/Popular.vue\";\r\nimport Sidebar from \"../modules/user/Sidebar.vue\";\r\nimport TweetDetail from \"../modules/user/TweetDetail.vue\";\r\nimport NewTweetModal from \"../modules/user/NewTweetModal.vue\";\r\nimport tweetsAPI from \"./../apis/tweets\";\r\nimport ReplyTweetModal from \"../modules/user/ReplyTweetModal.vue\";\r\nimport Comments from \"@/modules/user/Comments.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    Popular,\r\n    Sidebar,\r\n    TweetDetail,\r\n    NewTweetModal,\r\n    ReplyTweetModal,\r\n    Comments,\r\n  },\r\n  data() {\r\n    return {\r\n      showModal: false,\r\n      showReplyModal: false,\r\n      tweet: {},\r\n      initialTweetReplies: [],\r\n    };\r\n  },\r\n  created() {\r\n    let tweetId = this.$route.params.id;\r\n    this.fetchTweet(tweetId);\r\n    this.fetchTweetReplies(tweetId);\r\n  },\r\n  methods: {\r\n    async fetchTweet(tweetId) {\r\n      try {\r\n        const response = await tweetsAPI.getTweet(tweetId);\r\n        const { data } = response;\r\n        this.tweet = { ...data };\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    async fetchTweetReplies(tweetId) {\r\n      try {\r\n        const response = await tweetsAPI.getTweetReplies(tweetId);\r\n        const { data } = response;\r\n        this.initialTweetReplies = [...data];\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    modalToggle() {\r\n      if (!this.showModal) {\r\n        this.showModal = true;\r\n      } else {\r\n        this.showModal = false;\r\n      }\r\n    },\r\n\r\n    replyModalToggle(tweetId) {\r\n      if (!this.showReplyModal) {\r\n        this.replyTweetId = tweetId;\r\n        this.showReplyModal = true;\r\n      } else {\r\n        this.replyTweetId = \"\";\r\n        this.showReplyModal = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./src/assets/scss/main.scss\";\r\n.new-tweet-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: 1;\r\n  height: 100%;\r\n}\r\n.reply-list {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n  height: 100%;\r\n  overflow-y: scroll;\r\n}\r\n.container {\r\n  height: 100%;\r\n  overflow-y: hidden;\r\n}\r\n.sidebar {\r\n  width: 18%;\r\n  position: sticky;\r\n  position: -webkit-sticky;\r\n  top: 0;\r\n}\r\n.main {\r\n  width: 42%;\r\n  height: 100%;\r\n  margin: 0 30px;\r\n  border: 1px solid $gray-75;\r\n}\r\n.popular {\r\n  width: 25%;\r\n  position: sticky;\r\n  position: -webkit-sticky;\r\n  // top: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReplyList.vue?vue&type=template&id=938fae36&scoped=true&\"\nimport script from \"./ReplyList.vue?vue&type=script&lang=js&\"\nexport * from \"./ReplyList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReplyList.vue?vue&type=style&index=0&id=938fae36&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"938fae36\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetDetail.vue?vue&type=style&index=0&id=47ed7bd8&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyList.vue?vue&type=style&index=0&id=938fae36&lang=scss&scoped=true&\""],"sourceRoot":""}