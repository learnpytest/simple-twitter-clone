{"version":3,"sources":["webpack:///./src/views/UserMain.vue?8c02","webpack:///./src/modules/user/Tweets.vue?e686","webpack:///src/modules/user/Tweets.vue","webpack:///./src/modules/user/Tweets.vue?ad80","webpack:///./src/modules/user/Tweets.vue?b5b3","webpack:///./src/modules/user/AddTweet.vue?2769","webpack:///./src/modules/user/Tweets.vue?f04a","webpack:///./src/views/UserMain.vue?db4c","webpack:///./src/modules/user/AddTweet.vue?1550","webpack:///src/modules/user/AddTweet.vue","webpack:///./src/modules/user/AddTweet.vue?39eb","webpack:///./src/modules/user/AddTweet.vue?b1ff","webpack:///src/views/UserMain.vue","webpack:///./src/views/UserMain.vue?61c5","webpack:///./src/views/UserMain.vue?b221"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","tweet","index","key","on","$event","stopPropagation","preventDefault","$router","push","name","params","id","TweetId","apply","arguments","User","attrs","_f","avatar","_v","_s","account","createdAt","description","handleShowModalClick","RepliesCount","unLike","addLike","class","liked","isLiked","LikesCount","staticRenderFns","mixins","props","initialTweets","type","Array","required","initialShowReplyModal","Boolean","data","showReplyModal","tweets","currentUser","watch","created","fetchData","fetchCurrentUser","methods","$emit","tweetId","component","showModal","modalToggle","updateTweetsData","_e","replyTweetId","replyModalToggle","userTweets","directives","rawName","value","expression","domProps","target","composing","text","_m","mixin","initialShowModal","getCurrentUser","components","AddTweet","Tweets","Popular","Sidebar","NewTweetModal","ReplyTweetModal","getTweets"],"mappings":"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","file":"js/chunk-7519f690.1eb5d330.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMain.vue?vue&type=style&index=0&id=ef83e47e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tweets-wrapper\"},_vm._l((_vm.tweets),function(tweet,index){return _c('div',{key:index,staticClass:\"tweet\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return (function () { return _vm.$router.push({\n          name: 'reply-list',\n          params: { id: tweet.TweetId },\n        }); }).apply(null, arguments)}}},[_c('div',{staticClass:\"user-pic\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return (function () { return _vm.$router.push({ name: 'user', params: { id: tweet.User.id } }); }).apply(null, arguments)}}},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(tweet.User.avatar),\"alt\":\"\"}})]),_c('div',{staticClass:\"tweet-info\"},[_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"user-name\"},[_vm._v(\" \"+_vm._s(tweet.User.name)+\" \"),_c('span',{staticClass:\"user-id\"},[_vm._v(\"@\"+_vm._s(tweet.User.account)+\" • \")]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"fromNow\")(tweet.createdAt)))])])]),_c('div',{staticClass:\"tweet-text\"},[_vm._v(_vm._s(tweet.description))]),_c('div',{staticClass:\"tweet-buttons-control\"},[_c('div',{staticClass:\"tweet-buttons\"},[_c('img',{attrs:{\"src\":require(\"./../../assets/images/icon_reply.svg\"),\"alt\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleShowModalClick(tweet.TweetId)}}}),_c('p',{staticClass:\"reply-num\"},[_vm._v(_vm._s(tweet.RepliesCount))])]),_c('div',{staticClass:\"tweet-buttons\"},[(tweet.isLiked)?_c('img',{attrs:{\"id\":\"liked-btn\",\"src\":require(\"./../../assets/images/icon_like_fill.svg\"),\"alt\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.unLike(tweet.TweetId, tweet)}}}):_c('img',{attrs:{\"src\":require(\"./../../assets/images/icon_like.svg\"),\"alt\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addLike(tweet.TweetId, tweet)}}}),_c('p',{staticClass:\"liked-num\",class:{ liked: tweet.isLiked }},[_vm._v(\" \"+_vm._s(tweet.LikesCount)+\" \")])])])])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- todo need to correct all detail for tweets after server provide fulfill tweet data -->\r\n  <div class=\"tweets-wrapper\">\r\n    <div\r\n      class=\"tweet\"\r\n      v-for=\"(tweet, index) in tweets\"\r\n      :key=\"index\"\r\n      @click.stop.prevent=\"\r\n        () =>\r\n          $router.push({\r\n            name: 'reply-list',\r\n            params: { id: tweet.TweetId },\r\n          })\r\n      \"\r\n    >\r\n      <div\r\n        class=\"user-pic\"\r\n        @click.stop.prevent=\"\r\n          () => $router.push({ name: 'user', params: { id: tweet.User.id } })\r\n        \"\r\n      >\r\n        <img :src=\"tweet.User.avatar | emptyImage\" alt=\"\" />\r\n      </div>\r\n\r\n      <div class=\"tweet-info\">\r\n        <div class=\"info\">\r\n          <p class=\"user-name\">\r\n            {{ tweet.User.name }}\r\n            <span class=\"user-id\">@{{ tweet.User.account }} • </span\r\n            ><span class=\"time\">{{ tweet.createdAt | fromNow }}</span>\r\n          </p>\r\n        </div>\r\n        <div class=\"tweet-text\">{{ tweet.description }}</div>\r\n        <div class=\"tweet-buttons-control\">\r\n          <div class=\"tweet-buttons\">\r\n            <img\r\n              src=\"./../../assets/images/icon_reply.svg\"\r\n              alt=\"\"\r\n              @click.stop.prevent=\"handleShowModalClick(tweet.TweetId)\"\r\n            />\r\n\r\n            <p class=\"reply-num\">{{ tweet.RepliesCount }}</p>\r\n          </div>\r\n          <div class=\"tweet-buttons\">\r\n            <img\r\n              id=\"liked-btn\"\r\n              src=\"./../../assets/images/icon_like_fill.svg\"\r\n              alt=\"\"\r\n              @click.stop.prevent=\"unLike(tweet.TweetId, tweet)\"\r\n              v-if=\"tweet.isLiked\"\r\n            />\r\n            <img\r\n              src=\"./../../assets/images/icon_like.svg\"\r\n              alt=\"\"\r\n              @click.stop.prevent=\"addLike(tweet.TweetId, tweet)\"\r\n              v-else\r\n            />\r\n\r\n            <p class=\"liked-num\" :class=\"{ liked: tweet.isLiked }\">\r\n              {{ tweet.LikesCount }}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport currentUserAPi from \"../../apis/currentUserAPI\";\r\nimport likeshipAPI from \"./../../apis/likeshipAPI\";\r\n\r\nimport {\r\n  mixinEmptyImage,\r\n  mixinFromNowFilters,\r\n  mixinHandleCommunityNotification,\r\n} from \"../../utils/mixin\";\r\n\r\nexport default {\r\n  mixins: [\r\n    mixinEmptyImage,\r\n    mixinFromNowFilters,\r\n    mixinHandleCommunityNotification,\r\n  ],\r\n  props: {\r\n    initialTweets: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    initialShowReplyModal: {\r\n      type: Boolean,\r\n      //test need to set required on true\r\n      // required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      showReplyModal: false,\r\n      tweets: [],\r\n      currentUser: {},\r\n    };\r\n  },\r\n  watch: {\r\n    initialTweets(newValue) {\r\n      this.tweets = [...newValue];\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.fetchData();\r\n    this.fetchCurrentUser();\r\n  },\r\n  methods: {\r\n    fetchData() {\r\n      this.showReplyModal = this.initialShowReplyModal;\r\n      this.tweets = this.initialTweets;\r\n    },\r\n    async fetchCurrentUser() {\r\n      const res = await currentUserAPi.getCurrentUser();\r\n      const { data } = res;\r\n      this.currentUser = { ...data };\r\n    },\r\n    async addLike(tweetId, tweet) {\r\n      try {\r\n        const { data } = await likeshipAPI.postLike(tweetId);\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        this.tweets = this.tweets.map((tweet) => {\r\n          if (tweet.TweetId === Number(tweetId)) {\r\n            return {\r\n              ...tweet,\r\n              isLiked: true,\r\n              LikesCount: tweet.LikesCount + 1,\r\n            };\r\n          } else {\r\n            return { ...tweet };\r\n          }\r\n        });\r\n\r\n        // 通知訂閱人，喜歡增加一個，type 1\r\n        this.socketSendCommunityOneNotification(\r\n          \"1\",\r\n          this.currentUser,\r\n          null,\r\n          tweet.description,\r\n          tweet.TweetId\r\n        );\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    async unLike(tweetId, tweet) {\r\n      try {\r\n        const { data } = await likeshipAPI.deleteLike(tweetId);\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n        this.tweets = this.tweets.map((tweet) => {\r\n          if (tweet.TweetId === Number(tweetId)) {\r\n            return {\r\n              ...tweet,\r\n              isLiked: false,\r\n              LikesCount: tweet.LikesCount - 1,\r\n            };\r\n          } else {\r\n            return { ...tweet };\r\n          }\r\n        });\r\n\r\n        // 通知訂閱人，收回喜歡一個，type 2\r\n        this.socketSendCommunityOneNotification(\r\n          \"2\",\r\n          this.currentUser,\r\n          null,\r\n          tweet.description,\r\n          tweet.TweetId\r\n        );\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    handleShowModalClick(tweetId) {\r\n      this.showReplyModal = true;\r\n      this.$emit(\"show-reply-modal\", tweetId);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./../../assets/scss/main.scss\";\r\n@import \"./../../assets/scss/tweet.scss\";\r\n.tweets-wrapper {\r\n  width: 100%;\r\n}\r\n\r\n.tweet {\r\n  display: flex;\r\n  padding: 15px 10px 15px 10px;\r\n  font-size: 14px;\r\n  border-bottom: 1px solid $gray-75;\r\n  cursor: pointer;\r\n}\r\n\r\n.tweet-text {\r\n  word-break: break-all;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tweets.vue?vue&type=template&id=47ad2272&scoped=true&\"\nimport script from \"./Tweets.vue?vue&type=script&lang=js&\"\nexport * from \"./Tweets.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tweets.vue?vue&type=style&index=0&id=47ad2272&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47ad2272\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTweet.vue?vue&type=style&index=0&id=4fa82867&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweets.vue?vue&type=style&index=0&id=47ad2272&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[(_vm.showModal)?_c('div',{staticClass:\"new-tweet-modal\"},[_c('NewTweetModal',{attrs:{\"initialShowModal\":_vm.showModal},on:{\"show-modal\":_vm.modalToggle,\"updateData\":_vm.updateTweetsData}})],1):_vm._e(),(_vm.showReplyModal)?_c('div',{staticClass:\"new-tweet-modal\"},[_c('ReplyTweetModal',{attrs:{\"initialShowReplyModal\":_vm.showReplyModal,\"initialTweetId\":_vm.replyTweetId},on:{\"show-reply-modal\":_vm.replyModalToggle}})],1):_vm._e(),_c('div',{staticClass:\"usermain\"},[_c('div',{staticClass:\"sidebar\"},[_c('Sidebar',{attrs:{\"initialShowModal\":_vm.showModal},on:{\"show-modal\":_vm.modalToggle}})],1),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"addtweet\"},[_c('AddTweet',{attrs:{\"initialShowModal\":_vm.showModal},on:{\"show-modal\":_vm.modalToggle}})],1),_c('div',{staticClass:\"tweets\"},[_c('Tweets',{attrs:{\"initialShowReplyModal\":_vm.showReplyModal,\"initialTweets\":_vm.userTweets},on:{\"show-reply-modal\":_vm.replyModalToggle}})],1)]),_c('div',{staticClass:\"popular\"},[_c('Popular')],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addtweet-wrapper\"},[_c('div',{staticClass:\"header\"},[_vm._v(\"首頁\")]),_c('div',{staticClass:\"text-box\"},[_c('div',{staticClass:\"user-info\"},[_c('img',{staticClass:\"user-pic\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.currentUser.avatar),\"alt\":\"\"}})]),_c('div',{staticClass:\"text-area\",on:{\"click\":_vm.handleShowModalClick}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],staticClass:\"form-control\",attrs:{\"rows\":\"3\",\"placeholder\":\"有什麽新鮮事\"},domProps:{\"value\":(_vm.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}})])]),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tweet-btn\"},[_c('button',[_vm._v(\"推文\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"addtweet-wrapper\">\r\n    <div class=\"header\">首頁</div>\r\n    <div class=\"text-box\">\r\n      <div class=\"user-info\">\r\n        <img class=\"user-pic\" :src=\"currentUser.avatar | emptyImage\" alt=\"\" />\r\n      </div>\r\n      <div class=\"text-area\" @click=\"handleShowModalClick\">\r\n        <textarea\r\n          class=\"form-control\"\r\n          rows=\"3\"\r\n          placeholder=\"有什麽新鮮事\"\r\n          v-model=\"text\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"tweet-btn\">\r\n      <button>推文</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mixinEmptyImage } from \"../../utils/mixin\";\r\nimport currentUserAPI from \"@/apis/currentUserAPI\";\r\nexport default {\r\n  mixins: [mixinEmptyImage],\r\n  props: {\r\n    initialShowModal: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      showModal: \"\",\r\n      text: \"\",\r\n      currentUser: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchData();\r\n    this.getCurrentUser();\r\n  },\r\n  methods: {\r\n    fetchData() {\r\n      this.showModal = this.initialShowModal;\r\n    },\r\n    handleShowModalClick() {\r\n      this.showModal = false;\r\n      this.$emit(\"show-modal\");\r\n    },\r\n    async getCurrentUser() {\r\n      try {\r\n        const res = await currentUserAPI.getCurrentUser();\r\n        const { data, statusText } = res;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n\r\n        this.currentUser = data;\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"./../../assets/scss/main.scss\";\r\n.addtweet-wrapper {\r\n  min-height: 190px;\r\n}\r\n.header {\r\n  font-weight: var(--fw-bold);\r\n  height: 50px;\r\n  line-height: 50px;\r\n  border-bottom: 1px solid $gray-75;\r\n  padding-left: 15px;\r\n}\r\n.text-box {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  padding: 10px;\r\n}\r\n\r\n.user-info {\r\n  color: $gray-700;\r\n  width: 10%;\r\n  .user-pic {\r\n    margin-right: 10px;\r\n    max-width: 50px;\r\n    max-height: 50px;\r\n    border-radius: 50px;\r\n  }\r\n}\r\n\r\n.text-area {\r\n  width: 90%;\r\n  textarea {\r\n    border: 0px;\r\n    resize: none;\r\n    width: 100%;\r\n    margin-left: 10px;\r\n    margin-top: 10px;\r\n    font-family: Noto Sans;\r\n  }\r\n}\r\n\r\n.tweet-btn {\r\n  text-align: right;\r\n  padding-right: 10px;\r\n  border-bottom: 10px solid #e6ecf0;\r\n  padding-bottom: 10px;\r\n  button {\r\n    background-color: $orange-100;\r\n    // font-weight: var(--fw-normal);\r\n    color: $white;\r\n    font-size: 16px;\r\n    width: 65px;\r\n    height: 36px;\r\n    border-radius: 50px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTweet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddTweet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddTweet.vue?vue&type=template&id=4fa82867&scoped=true&\"\nimport script from \"./AddTweet.vue?vue&type=script&lang=js&\"\nexport * from \"./AddTweet.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddTweet.vue?vue&type=style&index=0&id=4fa82867&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4fa82867\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container\">\r\n    <div class=\"new-tweet-modal\" v-if=\"showModal\">\r\n      <NewTweetModal\r\n        :initialShowModal=\"showModal\"\r\n        @show-modal=\"modalToggle\"\r\n        @updateData=\"updateTweetsData\"\r\n      />\r\n    </div>\r\n    <div class=\"new-tweet-modal\" v-if=\"showReplyModal\">\r\n      <ReplyTweetModal\r\n        :initialShowReplyModal=\"showReplyModal\"\r\n        :initialTweetId=\"replyTweetId\"\r\n        @show-reply-modal=\"replyModalToggle\"\r\n      />\r\n    </div>\r\n    <div class=\"usermain\">\r\n      <div class=\"sidebar\">\r\n        <Sidebar :initialShowModal=\"showModal\" @show-modal=\"modalToggle\" />\r\n      </div>\r\n\r\n      <div class=\"main\">\r\n        <div class=\"addtweet\">\r\n          <AddTweet :initialShowModal=\"showModal\" @show-modal=\"modalToggle\" />\r\n        </div>\r\n\r\n        <div class=\"tweets\">\r\n          <Tweets\r\n            :initialShowReplyModal=\"showReplyModal\"\r\n            @show-reply-modal=\"replyModalToggle\"\r\n            :initialTweets=\"userTweets\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"popular\"><Popular /></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddTweet from \"../modules/user/AddTweet.vue\";\r\nimport Tweets from \"../modules/user/Tweets.vue\";\r\nimport Popular from \"../modules/user/Popular.vue\";\r\nimport Sidebar from \"../modules/user/Sidebar.vue\";\r\nimport NewTweetModal from \"../modules/user/NewTweetModal.vue\";\r\nimport ReplyTweetModal from \"../modules/user/ReplyTweetModal.vue\";\r\n\r\nimport tweetsApi from \"./../apis/tweets\";\r\nexport default {\r\n  components: {\r\n    AddTweet,\r\n    Tweets,\r\n    Popular,\r\n    Sidebar,\r\n    NewTweetModal,\r\n    ReplyTweetModal,\r\n  },\r\n  data() {\r\n    return {\r\n      showModal: false,\r\n      showReplyModal: false,\r\n      userTweets: [],\r\n      replyTweetId: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.getTweets();\r\n  },\r\n\r\n  methods: {\r\n    async updateTweetsData() {\r\n      await this.getTweets();\r\n    },\r\n    modalToggle() {\r\n      if (!this.showModal) {\r\n        this.showModal = true;\r\n      } else {\r\n        this.showModal = false;\r\n      }\r\n    },\r\n    async getTweets() {\r\n      try {\r\n        const response = await tweetsApi.getAllTweet();\r\n        const { data } = response;\r\n        this.userTweets = [...data];\r\n\r\n        this.showModal = false;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    replyModalToggle(tweetId) {\r\n      if (!this.showReplyModal) {\r\n        this.replyTweetId = tweetId;\r\n        this.showReplyModal = true;\r\n      } else {\r\n        this.replyTweetId = \"\";\r\n        this.showReplyModal = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"./src/assets/scss/main.scss\";\r\n\r\n.new-tweet-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: 1;\r\n  height: 100%;\r\n}\r\n.usermain {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n  height: 100%;\r\n  overflow-y: scroll;\r\n}\r\n.container {\r\n  height: 100vh;\r\n  overflow-y: hidden;\r\n}\r\n.sidebar {\r\n  width: 18%;\r\n  position: sticky;\r\n  position: -webkit-sticky;\r\n  top: 0;\r\n}\r\n.main {\r\n  width: 42%;\r\n  height: 100%;\r\n  margin: 0 30px;\r\n}\r\n\r\n.addtweet,\r\n.tweets {\r\n  border: 1px solid $gray-75;\r\n}\r\n\r\n.popular {\r\n  width: 25%;\r\n  height: 100%;\r\n  position: sticky;\r\n  position: -webkit-sticky;\r\n  bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserMain.vue?vue&type=template&id=ef83e47e&scoped=true&\"\nimport script from \"./UserMain.vue?vue&type=script&lang=js&\"\nexport * from \"./UserMain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserMain.vue?vue&type=style&index=0&id=ef83e47e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ef83e47e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}